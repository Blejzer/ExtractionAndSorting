{% extends "base.html" %}

{% block title %}Edit Event{% endblock %}

{% block content %}
  <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
    <h1 class="mb-0">Edit event</h1>
    <a class="btn btn-outline-secondary mt-3 mt-md-0"
       href="{{ url_for('events.event_detail', eid=event.eid) }}">Cancel</a>
  </div>

  {% if form_errors %}
    <div class="alert alert-danger" role="alert">
      {% for message in form_errors %}
        <div>{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}

  <form method="post" novalidate>
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label" for="title">Title</label>
        <input class="form-control{% if errors.title %} is-invalid{% endif %}"
               id="title" name="title" required
               type="text" value="{{ form_data.title }}">
        {% if errors.title %}
          <div class="invalid-feedback">{{ errors.title }}</div>
        {% endif %}
      </div>

      <div class="col-md-3">
        <label class="form-label" for="type">Type</label>
        <input class="form-control" id="type" name="type" type="text"
               value="{{ form_data.type }}">
      </div>

      <div class="col-md-3">
        <label class="form-label" for="country">Country CID</label>
        <input class="form-control" id="country" name="country" type="text"
               value="{{ form_data.country }}">
      </div>

      <div class="col-md-6">
        <label class="form-label" for="place">Place</label>
        <input class="form-control" id="place" name="place" type="text"
               value="{{ form_data.place }}">
      </div>

      <div class="col-md-3">
        <label class="form-label" for="start_date">Start date</label>
        <input class="form-control{% if errors.start_date %} is-invalid{% endif %}"
               id="start_date" name="start_date" type="date"
               value="{{ form_data.start_date }}">
        {% if errors.start_date %}
          <div class="invalid-feedback">{{ errors.start_date }}</div>
        {% endif %}
      </div>

      <div class="col-md-3">
        <label class="form-label" for="end_date">End date</label>
        <input class="form-control{% if errors.end_date %} is-invalid{% endif %}"
               id="end_date" name="end_date" type="date"
               value="{{ form_data.end_date }}">
        {% if errors.end_date %}
          <div class="invalid-feedback">{{ errors.end_date }}</div>
        {% endif %}
      </div>
    </div>

    <div class="mt-4 d-flex gap-2">
      <button class="btn btn-primary" type="submit">Save changes</button>
      <a class="btn btn-outline-secondary" href="{{ url_for('events.event_detail', eid=event.eid) }}">Cancel</a>
    </div>
  </form>
{% endblock %}
