{% extends "base.html" %}
{% block title %}Import Preview{% endblock %}
{% block content %}
<h2>Event Preview</h2>
{% if event %}
  <dl class="row">
    <dt class="col-sm-2">Event ID</dt>
    <dd class="col-sm-10">{{ event.eid }}</dd>
    <dt class="col-sm-2">Title</dt>
    <dd class="col-sm-10">{{ event.title }}</dd>
    <dt class="col-sm-2">Start</dt>
    <dd class="col-sm-10">{{ event.start_date or '' }}</dd>
    <dt class="col-sm-2">End</dt>
    <dd class="col-sm-10">{{ event.end_date or '' }}</dd>
    <dt class="col-sm-2">Place</dt>
    <dd class="col-sm-10">{{ event.place }}</dd>
    <dt class="col-sm-2">Country</dt>
    <dd class="col-sm-10">{{ event.country }}</dd>
    <dt class="col-sm-2">Type</dt>
    <dd class="col-sm-10">{{ event.type or '' }}</dd>
    <dt class="col-sm-2">Cost</dt>
    <dd class="col-sm-10">{{ event.cost if event.cost is not none else '' }}</dd>
  </dl>
{% else %}
  <p>No event data available.</p>
{% endif %}

<h3>Participants ({{ participants|length }})</h3>
<table class="table table-striped table-sm">
  <thead>
    <tr>
      <th>Name</th>
      <th>Country</th>
      <th>Grade</th>
      <th>Position</th>
    </tr>
  </thead>
  <tbody>
    {% for p in participants %}
    <tr>
      <td>{{ p.name }}</td>
      <td>{{ p.representing_country }}</td>
      <td>{{ p.grade }}</td>
      <td>{{ p.position }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a class="btn btn-secondary" href="{{ url_for('imports.upload_form') }}">Back</a>
{% endblock %}
